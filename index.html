<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.js"></script>
</head>
<body>
<script>
var config = {
    type: Phaser.AUTO,
    width: 128,
    height: 128,
    pixelArt: true,
    zoom: 4,
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 300 },
            debug: false
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

var game = new Phaser.Game(config);

function preload ()
{
    
    this.load.image('backdrop', 'assets/background/backdrop.png');
    this.load.image('ground', 'assets/background/groundlv1.png');
    this.load.image('table', 'assets/background/table.png');

    this.load.spritesheet('tobylaying', 
        'assets/spritesheets/tobylaying.png',
        { frameWidth: 32, frameHeight: 32 }
    );

    this.load.spritesheet('butterfly', 
        'assets/spritesheets/butterfly.png',
        { frameWidth: 6, frameHeight: 4 }
    );
}

function create ()
{
    this.add.image(0, 0, 'backdrop').setOrigin(0, 0.75);

    platforms = this.physics.add.staticGroup();

    platforms.create(0, 0, 'ground').setOrigin(0, -8.85).refreshBody();

    platforms.create(65, 92, 'table');

//Creating animations

//Toby laying on the table tail wag animation
    this.anims.create({
        key: 'wag',
        frames: this.anims.generateFrameNumbers('tobylaying', { start: 0, end: 2}),
        frameRate: 1,
        repeat: 4
    });

    this.anims.create({
        key: 'flutter',
        frames: this.anims.generateFrameNumbers('butterfly', { start: 0, end: 2}),
        frameRate: 1,
        repeat: 4
    });

//Adding animations
    this.add.sprite(64, 58).play('wag');
    this.add.sprite(100, 50).anims.delayedPlay(5000,'flutter');
}

function update ()
{
}
</script>
</body>
</html>